---
title: 表情包搜索
icon: search
order: 3
---

`@waline/client` 允许用户添加表情包搜索服务并自定义此功能。

在默认情况下，`@waline/client` 通过 [Giphy](https://giphy.com/) 提供表情包搜索服务。这将允许你在评论时搜索表情包并添加到评论中。

<!-- more -->

## 禁用

如果你不需要默认的表情包搜索服务，你可以将 `search` 选项设置为 `false` 来禁用它。

```js
Waline.init({
  el: '#waline',
  // ...
  search: false,
});
```

## 自定义

你可以通过 search 选项自定义表情包搜索服务。

对于每项操作，你应该返回一个包含了图片信息的数组作为搜索结果，每一项应该是一个对象，包含下列属性:

- `src`: 图片的链接地址
- `title`: 图片的标题与替代文字 (可选)
- `preview`: 图片的缩略图，用于结果列表中 (可选)

选项接受三个函数，每个函数应该返回一个 Promise 对象，结果是上方的搜索结果数组。

- `search`: 搜索操作，搜索词会作为函数的第一个参数传入
- `default`: 默认展示的图片列表 (可选)
- `more`: 当图片滚动到底部时出发的函数，其中搜索词和当前数量会作为前两个参数传入 (可选)

关于自定义搜索的教程，详见 [Cookbook → 自定义表情包搜索](../../cookbook/customize/search.md)。
