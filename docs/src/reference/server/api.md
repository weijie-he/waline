---
title: API
icon: api
---

## 评论接口

### 评论列表

获取某篇文章对应的评论列表

```http
GET /api/comment
```

**参数**:

| 字段     | 类型   | 描述                                                                                                           |
| -------- | ------ | -------------------------------------------------------------------------------------------------------------- |
| path     | string | 获取对应文章标识的评论列表                                                                                     |
| page     | number | 评论列表的页数                                                                                                 |
| pageSize | number | 每页评论列表的条数                                                                                             |
| sortBy   | string | 评论排序方式，默认按时间倒序(insertedAt_desc)，还可以选择按时间正序（insertedAt_asc），按热度倒序（like_desc） |

### 评论数

获取某篇文章对应的评论总数

```http
GET /api/comment?type=count
```

**参数**:

| 字段 | 类型   | 描述                                                 |
| ---- | ------ | ---------------------------------------------------- |
| url  | string | 获取对应文章标识的评论列表，如果为空会返回全站评论数 |

### 最近评论

获取当前网站的最近评论

```http
GET /api/comment?type=recent
```

**参数**:

| 字段  | 类型   | 描述               |
| ----- | ------ | ------------------ |
| count | number | 返回最新评论的条数 |

### 发布评论

发布一条评论

```http
POST /api/comment
```

**参数**:

| 字段    | 类型   | 描述                         |
| ------- | ------ | ---------------------------- |
| comment | string | 评论内容                     |
| link    | string | 用户输入的网站               |
| mail    | string | 用户输入的邮箱               |
| nick    | string | 用户输入的昵称               |
| pid     | string | 该条评论回复的评论 objectId  |
| rid     | string | 该条评论的根评论 objectId    |
| ua      | string | 用户的 user agent            |
| url     | string | 评论的文章标识               |
| at      | string | 该条评论回复的评论的作者昵称 |

## 阅读统计接口

### 获取阅读统计数

获取某篇文章或者多篇文章对应的阅读数

```http
GET /api/article
```

**参数**:

| 字段 | 类型   | 描述                               |
| ---- | ------ | ---------------------------------- |
| path | string | 对应文章标识，多个标识使用逗号拼接 |

### 更新阅读统计数

更新某篇文章的阅读数

```http
POST /api/article
```

**参数**:

| 字段 | 类型   | 描述         |
| ---- | ------ | ------------ |
| path | string | 对应文章标识 |
